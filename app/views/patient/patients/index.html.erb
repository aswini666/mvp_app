<div class="d-flex">
  <h1>Book Appointment</h1>
  <div class="ml-auto">
  <%= form_with url: patient_patients_path do |form| %>
    <div class="form-group select-field">
      <%= form.label :Appointment_Date %>
      <%= form.datetime_select :appointment_date, {order: [:month, :day, :year], prompt: { day: 'Select day', month: 'Select month', year: 'Select year' }, start_year: Date.today.year , end_year: Date.today.year}, {required: true} %>
    </div>
  
    <div class="form-group">
      <%= form.label :Doctors %>
      <%= form.select(:doctor_id, @doctors.collect {|u| [u.first_name, u.id]}, :prompt => 'Select doctor') %>
    </div>
  
    <div class="form-group">
      <%= form.submit "Save", class: 'btn btn-primary' %>
    </div>
  <% end %>
  </div>
</div>


<div class="d-flex">
  <h1>Booked Appointment</h1>
</div>
<table class="table">
  <thead>
    <tr>
      <th>Doctor First Name</th>
      <th>Doctor Last Name</th>
      <th>Doctor Email</th>
      <th>Appointment Date time</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <% @appointments.each do |appoint| %>
      <tr>
        <td><%= appoint.doctor.first_name %></td>
        <td><%= appoint.doctor.last_name %></td>
        <td><%= appoint.doctor.email %></td>
        <td><%= appoint.appointment_date %></td>
        <% if appoint.status == true %>
          <td>"Appointment Accepted"</td>
        <% elsif appoint.status == false %>
         <td>"Appointment Rejected"</td>
        <% else %>
        <td>"Pending"</td>
        <% end %>
    <% end %>
  </tbody>
</table>
<br>



